# 微信支付积分系统 - 开发者控制台

## 📋 概述

这是一个仿照 Web3 Alpha Hunter 风格设计的开发者控制台，用于快速访问系统核心功能、查看关键数据、执行常用命令。

## 🎯 主要功能

### 1. 核心数据展示
- **有消费用户数**: 实时显示系统中有支付记录的用户总数
- **活跃商户数**: 显示当前活跃状态的商户数量
- **项目版本**: 显示当前项目版本和环境信息

### 2. 功能模块导航
快速访问系统各个管理模块:
- 👥 **用户管理**: 用户数据查询与管理
- 🏪 **商户管理**: 商户资质审核与管理
- ⭐ **积分管理**: 积分配置与记录查询
- 📦 **订单管理**: 支付订单查询与统计
- 🔌 **API文档**: 后端API接口说明
- ⚙️ **系统设置**: 参数配置与权限管理

### 3. 后端API快速访问
一键复制常用API地址:
- 管理后台: `https://www.guandongfang.cn/admin/`
- 数据统计: `https://www.guandongfang.cn/api/v1/admin/dashboard/stats`
- 查看API文档
- 检查异步任务状态

### 4. SSH登录信息
快速复制服务器登录信息:
- 服务器IP: `8.156.84.226`
- SSH命令: `ssh -i config/ssh/weixinpay.pem root@8.156.84.226`

### 5. 常用命令集合
分类整理的常用命令，一键复制:

#### 数据库操作
- 备份MySQL数据库
- 登录MySQL控制台

#### 日志查看
- PM2应用日志
- Nginx访问日志
- Nginx错误日志

#### 进程管理
- 查看PM2进程列表
- 重启应用
- 停止应用
- 查看应用详情

#### Nginx操作
- 测试配置文件
- 重载配置
- 重启Nginx服务
- 查看Nginx状态

### 6. 快捷操作
一键执行常用任务:
- 🚀 **部署管理后台**: 运行 `deploy-admin-complete.sh`
- ⚙️ **部署后端服务**: 运行 `deploy-backend-complete.sh`
- 🧪 **运行测试**: 执行 Playwright 测试套件
- 🧹 **项目清理**: 清理临时文件和日志
- 📚 **查看文档**: 打开项目文档
- 🔍 **系统状态**: 检查服务运行状态

## 🚀 使用方法

### 本地访问
1. 在项目根目录打开终端
2. 使用任何HTTP服务器运行:
   ```bash
   # 使用Python
   python3 -m http.server 8080
   
   # 或使用Node.js
   npx http-server -p 8080
   ```
3. 在浏览器访问: `http://localhost:8080/dashboard.html`

### 部署到服务器
将以下文件上传到服务器的Web目录:
- `dashboard.html`
- `dashboard.css`
- `dashboard.js`

然后通过域名访问即可。

## ⌨️ 快捷键

系统支持以下键盘快捷键:

- `Ctrl/Cmd + K`: 快速搜索 (开发中)
- `Ctrl/Cmd + D`: 打开文档
- `Ctrl/Cmd + R`: 刷新数据

## 🎨 设计特点

### 视觉风格
- **渐变背景**: 紫色渐变背景，现代感十足
- **卡片设计**: 圆角卡片布局，清晰明了
- **动画效果**: 悬停动画和过渡效果，提升用户体验
- **响应式设计**: 完美适配桌面和移动设备

### 配色方案
- 主色调: `#5B67F1` (蓝紫色)
- 成功色: `#52C41A` (绿色)
- 警告色: `#FAAD14` (橙色)
- 错误色: `#FF4D4F` (红色)

### 交互特性
- **一键复制**: 所有命令和URL都支持一键复制
- **点击跳转**: 功能模块卡片点击直接跳转
- **实时刷新**: 每30秒自动刷新核心数据
- **通知提示**: 操作成功/失败都有友好提示

## 📦 文件结构

```
/
├── dashboard.html      # 主页面
├── dashboard.css       # 样式文件
├── dashboard.js        # 交互脚本
└── DASHBOARD_README.md # 说明文档
```

## 🔧 配置说明

在 `dashboard.js` 中可以修改以下配置:

```javascript
const CONFIG = {
    API_BASE_URL: 'https://www.guandongfang.cn/api/v1',
    ADMIN_URL: 'https://www.guandongfang.cn/admin/',
    REFRESH_INTERVAL: 30000, // 30秒刷新一次
};
```

## 🔐 权限说明

部分功能需要管理员权限:
- 查看核心数据统计需要有效的 `admin_token`
- 执行部署和清理操作需要服务器SSH权限

Token存储在浏览器 `localStorage` 中:
```javascript
localStorage.setItem('admin_token', 'your-token-here');
```

## 📝 开发计划

### 已完成
- ✅ 核心数据展示
- ✅ 功能模块导航
- ✅ API快速访问
- ✅ 常用命令集合
- ✅ 快捷操作按钮
- ✅ 复制功能
- ✅ 通知系统
- ✅ 快捷键支持

### 待开发
- ⏳ 实时数据刷新优化
- ⏳ 快速搜索功能
- ⏳ 操作历史记录
- ⏳ 自定义主题
- ⏳ 更多图表展示
- ⏳ WebSocket实时推送

## 🐛 问题排查

### 数据无法加载
1. 检查 `CONFIG.API_BASE_URL` 是否正确
2. 检查浏览器控制台是否有CORS错误
3. 确认已登录并获取了有效token

### 复制功能不工作
1. 确保使用HTTPS或localhost
2. 检查浏览器是否支持 Clipboard API
3. 系统会自动降级使用传统复制方式

### 样式显示异常
1. 确保 `dashboard.css` 文件路径正确
2. 清除浏览器缓存后重试
3. 检查浏览器控制台的资源加载错误

## 📞 技术支持

如有问题或建议，请:
1. 查看项目文档: `docs/README.md`
2. 查看开发规范: `docs/03-开发规范/`
3. 提交Issue到项目仓库

## 📄 许可证

本项目遵循与主项目相同的许可证。

---

**最后更新**: 2025年10月3日
**版本**: v1.0.0
**维护**: 开发团队

