# å®‰å…¨é…ç½®æ¸…å•

> **æ›´æ–°æ—¶é—´**: 2025å¹´10æœˆ1æ—¥
> **é€‚ç”¨ç¯å¢ƒ**: ç”Ÿäº§ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒ
> **é‡è¦æ€§**: âš ï¸ **å¿…è¯»** - å…³ç³»åˆ°ç³»ç»Ÿå®‰å…¨

---

## ğŸ“‹ ç›®å½•

1. [ç¯å¢ƒå˜é‡é…ç½®](#ç¯å¢ƒå˜é‡é…ç½®)
2. [æ•°æ®åº“å®‰å…¨](#æ•°æ®åº“å®‰å…¨)
3. [æœåŠ¡å™¨å®‰å…¨](#æœåŠ¡å™¨å®‰å…¨)
4. [HTTPSé…ç½®](#httpsé…ç½®)
5. [é˜²ç«å¢™é…ç½®](#é˜²ç«å¢™é…ç½®)
6. [æ—¥å¸¸ç»´æŠ¤](#æ—¥å¸¸ç»´æŠ¤)

---

## ç¯å¢ƒå˜é‡é…ç½®

### 1. åˆ›å»º.envæ–‡ä»¶

```bash
cd /root/payment-points-backend
cp .env.example .env
nano .env
```

### 2. å¿…éœ€é…ç½®é¡¹

```bash
# ==================== ç¯å¢ƒé…ç½® ====================
NODE_ENV=production  # ç”Ÿäº§ç¯å¢ƒè®¾ç½®ä¸ºproduction

# ==================== æœåŠ¡å™¨é…ç½® ====================
PORT=3000

# ==================== æ•°æ®åº“é…ç½® ====================
DB_HOST=127.0.0.1
DB_PORT=3306
DB_USER=points_app_user  # âš ï¸ ä¸è¦ä½¿ç”¨root
DB_PASSWORD=YOUR_STRONG_PASSWORD_HERE  # âš ï¸ å¿…é¡»ä¿®æ”¹
DB_NAME=points_app_prod
DB_CONNECTION_LIMIT=10

# ==================== JWTé…ç½® ====================
# âš ï¸ ç”Ÿæˆå¼ºå¯†é’¥ï¼šnode -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_random_32_byte_secret_key_change_this_in_production
JWT_EXPIRES_IN=7d

# ==================== CORSé…ç½® ====================
# å¤šä¸ªåŸŸåç”¨é€—å·åˆ†éš”
ALLOWED_ORIGINS=https://www.guandongfang.cn,https://guandongfang.cn

# ==================== æ—¥å¿—é…ç½® ====================
LOG_LEVEL=info  # error, warn, info, debug
LOG_FILE=logs/app.log

# ==================== é™æµé…ç½® ====================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_LOGIN_MAX=5
```

### 3. ç”Ÿæˆå¼ºå¯†é’¥

```bash
# ç”ŸæˆJWTå¯†é’¥ï¼ˆ32å­—èŠ‚ï¼‰
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# è¾“å‡ºç¤ºä¾‹ï¼š
# a3f5c8d2e7b9f1a4c6d8e2f9a1b3c5d7e9f2a4b6c8d1e3f5a7b9c2d4e6f8a1b3
```

å°†ç”Ÿæˆçš„å¯†é’¥å¡«å…¥`.env`çš„`JWT_SECRET`:
```bash
JWT_SECRET=a3f5c8d2e7b9f1a4c6d8e2f9a1b3c5d7e9f2a4b6c8d1e3f5a7b9c2d4e6f8a1b3
```

### 4. æ–‡ä»¶æƒé™è®¾ç½®

```bash
# .envæ–‡ä»¶åªå…è®¸æ‰€æœ‰è€…è¯»å–
chmod 600 .env

# éªŒè¯æƒé™
ls -l .env
# åº”è¯¥æ˜¾ç¤ºï¼š-rw------- 1 root root
```

---

## æ•°æ®åº“å®‰å…¨

### 1. åˆ›å»ºä¸“ç”¨æ•°æ®åº“ç”¨æˆ·

âš ï¸ **ä¸è¦ä½¿ç”¨rootç”¨æˆ·è¿æ¥æ•°æ®åº“**

```sql
-- 1. ç™»å½•MySQL
mysql -u root -p

-- 2. åˆ›å»ºä¸“ç”¨æ•°æ®åº“
CREATE DATABASE IF NOT EXISTS points_app_prod CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- 3. åˆ›å»ºä¸“ç”¨ç”¨æˆ·
CREATE USER 'points_app_user'@'localhost' IDENTIFIED BY 'YOUR_STRONG_PASSWORD';

-- 4. æˆäºˆå¿…è¦æƒé™ï¼ˆä»…é™è¯¥æ•°æ®åº“ï¼‰
GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, INDEX ON points_app_prod.* TO 'points_app_user'@'localhost';

-- 5. åˆ·æ–°æƒé™
FLUSH PRIVILEGES;

-- 6. éªŒè¯æƒé™
SHOW GRANTS FOR 'points_app_user'@'localhost';

-- 7. é€€å‡º
EXIT;
```

### 2. ä¿®æ”¹MySQLé…ç½®

```bash
# ç¼–è¾‘MySQLé…ç½®æ–‡ä»¶
sudo nano /etc/mysql/mysql.conf.d/mysqld.cnf
```

æ·»åŠ æˆ–ä¿®æ”¹ä»¥ä¸‹é…ç½®:
```ini
[mysqld]
# åªå…è®¸æœ¬åœ°è¿æ¥
bind-address = 127.0.0.1

# ç¦ç”¨è¿œç¨‹rootç™»å½•
skip-networking = 0

# æ…¢æŸ¥è¯¢æ—¥å¿—ï¼ˆå¸®åŠ©å‘ç°æ€§èƒ½é—®é¢˜ï¼‰
slow_query_log = 1
slow_query_log_file = /var/log/mysql/slow.log
long_query_time = 2

# æœ€å¤§è¿æ¥æ•°
max_connections = 200

# å­—ç¬¦é›†
character-set-server = utf8mb4
collation-server = utf8mb4_unicode_ci
```

é‡å¯MySQL:
```bash
sudo systemctl restart mysql
```

### 3. å®šæœŸå¤‡ä»½æ•°æ®åº“

åˆ›å»ºå¤‡ä»½è„šæœ¬ `/root/backup-db.sh`:
```bash
#!/bin/bash

# é…ç½®
DB_USER="points_app_user"
DB_PASS="YOUR_PASSWORD"
DB_NAME="points_app_prod"
BACKUP_DIR="/root/backups/mysql"
DATE=$(date +%Y%m%d_%H%M%S)

# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p $BACKUP_DIR

# å¤‡ä»½æ•°æ®åº“
mysqldump -u $DB_USER -p$DB_PASS $DB_NAME > $BACKUP_DIR/backup_$DATE.sql

# å‹ç¼©å¤‡ä»½
gzip $BACKUP_DIR/backup_$DATE.sql

# åˆ é™¤7å¤©å‰çš„å¤‡ä»½
find $BACKUP_DIR -name "*.sql.gz" -mtime +7 -delete

echo "æ•°æ®åº“å¤‡ä»½å®Œæˆ: backup_$DATE.sql.gz"
```

è®¾ç½®æƒé™å’Œå®šæ—¶ä»»åŠ¡:
```bash
# è®¾ç½®æ‰§è¡Œæƒé™
chmod +x /root/backup-db.sh

# æ·»åŠ åˆ°crontabï¼ˆæ¯å¤©å‡Œæ™¨3ç‚¹æ‰§è¡Œï¼‰
crontab -e

# æ·»åŠ ä»¥ä¸‹è¡Œï¼š
0 3 * * * /root/backup-db.sh >> /var/log/mysql-backup.log 2>&1
```

---

## æœåŠ¡å™¨å®‰å…¨

### 1. æ›´æ–°ç³»ç»Ÿ

```bash
# Ubuntu/Debian
sudo apt update && sudo apt upgrade -y

# å®‰è£…å®‰å…¨æ›´æ–°
sudo apt install unattended-upgrades
sudo dpkg-reconfigure -plow unattended-upgrades
```

### 2. é…ç½®SSHå®‰å…¨

ç¼–è¾‘SSHé…ç½®:
```bash
sudo nano /etc/ssh/sshd_config
```

æ¨èé…ç½®:
```ini
# ç¦ç”¨rootç™»å½•
PermitRootLogin no

# ç¦ç”¨å¯†ç ç™»å½•ï¼ˆä»…å…è®¸å¯†é’¥ï¼‰
PasswordAuthentication no
PubkeyAuthentication yes

# ä¿®æ”¹SSHç«¯å£ï¼ˆå¯é€‰ï¼Œå¢åŠ å®‰å…¨æ€§ï¼‰
Port 2222

# é™åˆ¶ç™»å½•å°è¯•
MaxAuthTries 3
MaxSessions 2

# ç¦ç”¨ç©ºå¯†ç 
PermitEmptyPasswords no

# è®¾ç½®ç™»å½•è¶…æ—¶
LoginGraceTime 30
```

é‡å¯SSH:
```bash
sudo systemctl restart sshd
```

### 3. é…ç½®é˜²ç«å¢™

```bash
# å®‰è£…UFW
sudo apt install ufw

# é»˜è®¤è§„åˆ™ï¼šæ‹’ç»æ‰€æœ‰å…¥ç«™ï¼Œå…è®¸æ‰€æœ‰å‡ºç«™
sudo ufw default deny incoming
sudo ufw default allow outgoing

# å…è®¸SSHï¼ˆå¦‚æœæ”¹äº†ç«¯å£ï¼Œæ”¹ä¸ºå¯¹åº”ç«¯å£ï¼‰
sudo ufw allow 22/tcp

# å…è®¸HTTPå’ŒHTTPS
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp

# å…è®¸Node.jsåº”ç”¨ç«¯å£ï¼ˆä»…æœ¬åœ°ï¼‰
sudo ufw allow from 127.0.0.1 to any port 3000

# å¯ç”¨é˜²ç«å¢™
sudo ufw enable

# æŸ¥çœ‹çŠ¶æ€
sudo ufw status verbose
```

### 4. å®‰è£…Fail2ban

é˜²æ­¢æš´åŠ›ç ´è§£:
```bash
# å®‰è£…
sudo apt install fail2ban

# åˆ›å»ºæœ¬åœ°é…ç½®
sudo cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local

# ç¼–è¾‘é…ç½®
sudo nano /etc/fail2ban/jail.local
```

é…ç½®ç¤ºä¾‹:
```ini
[DEFAULT]
bantime = 3600    # å°ç¦1å°æ—¶
findtime = 600    # 10åˆ†é’Ÿå†…
maxretry = 5      # å¤±è´¥5æ¬¡åˆ™å°ç¦

[sshd]
enabled = true
port = 22
logpath = /var/log/auth.log
```

å¯åŠ¨æœåŠ¡:
```bash
sudo systemctl enable fail2ban
sudo systemctl start fail2ban

# æŸ¥çœ‹çŠ¶æ€
sudo fail2ban-client status
```

---

## HTTPSé…ç½®

### 1. å®‰è£…Certbot

```bash
# å®‰è£…Certbotå’ŒNginxæ’ä»¶
sudo apt install certbot python3-certbot-nginx
```

### 2. è·å–SSLè¯ä¹¦

```bash
# ä¸ºåŸŸåç”³è¯·è¯ä¹¦
sudo certbot --nginx -d www.guandongfang.cn -d guandongfang.cn

# æŒ‰æç¤ºè¾“å…¥é‚®ç®±å’ŒåŒæ„æ¡æ¬¾
```

### 3. é…ç½®Nginxåå‘ä»£ç†

ç¼–è¾‘Nginxé…ç½®:
```bash
sudo nano /etc/nginx/sites-available/points-api
```

é…ç½®å†…å®¹:
```nginx
# HTTPé‡å®šå‘åˆ°HTTPS
server {
    listen 80;
    server_name www.guandongfang.cn guandongfang.cn;
    return 301 https://$server_name$request_uri;
}

# HTTPSé…ç½®
server {
    listen 443 ssl http2;
    server_name www.guandongfang.cn guandongfang.cn;

    # SSLè¯ä¹¦ï¼ˆCertbotè‡ªåŠ¨é…ç½®ï¼‰
    ssl_certificate /etc/letsencrypt/live/www.guandongfang.cn/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/www.guandongfang.cn/privkey.pem;

    # SSLå®‰å…¨é…ç½®
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers HIGH:!aNULL:!MD5;
    ssl_prefer_server_ciphers on;
    ssl_session_cache shared:SSL:10m;
    ssl_session_timeout 10m;

    # å®‰å…¨å¤´éƒ¨
    add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header X-XSS-Protection "1; mode=block" always;

    # åå‘ä»£ç†åˆ°Node.js
    location /api {
        proxy_pass http://127.0.0.1:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;

        # è¶…æ—¶è®¾ç½®
        proxy_connect_timeout 60s;
        proxy_send_timeout 60s;
        proxy_read_timeout 60s;
    }

    # ç®¡ç†åå°é™æ€æ–‡ä»¶
    location / {
        root /root/admin-frontend/dist;
        try_files $uri $uri/ /index.html;
    }

    # æ—¥å¿—
    access_log /var/log/nginx/points-api-access.log;
    error_log /var/log/nginx/points-api-error.log;
}
```

å¯ç”¨é…ç½®:
```bash
# åˆ›å»ºè½¯é“¾æ¥
sudo ln -s /etc/nginx/sites-available/points-api /etc/nginx/sites-enabled/

# æµ‹è¯•é…ç½®
sudo nginx -t

# é‡è½½Nginx
sudo systemctl reload nginx
```

### 4. è‡ªåŠ¨ç»­æœŸè¯ä¹¦

```bash
# æµ‹è¯•ç»­æœŸ
sudo certbot renew --dry-run

# Certbotä¼šè‡ªåŠ¨æ·»åŠ ç»­æœŸä»»åŠ¡åˆ°crontab
# å¯ä»¥æŸ¥çœ‹ï¼š
sudo cat /etc/cron.d/certbot
```

---

## é˜²ç«å¢™é…ç½®

### é˜¿é‡Œäº‘å®‰å…¨ç»„è§„åˆ™

ç™»å½•é˜¿é‡Œäº‘æ§åˆ¶å° â†’ ECS â†’ ç½‘ç»œä¸å®‰å…¨ â†’ å®‰å…¨ç»„

#### å…¥æ–¹å‘è§„åˆ™

| ä¼˜å…ˆçº§ | åè®® | ç«¯å£ | æˆæƒå¯¹è±¡ | è¯´æ˜ |
|--------|------|------|----------|------|
| 1 | TCP | 22 | YOUR_IP/32 | SSHï¼ˆé™åˆ¶IPï¼‰ |
| 2 | TCP | 80 | 0.0.0.0/0 | HTTP |
| 3 | TCP | 443 | 0.0.0.0/0 | HTTPS |
| 100 | å…¨éƒ¨ | -1/-1 | æ‹’ç» 0.0.0.0/0 | æ‹’ç»å…¶ä»– |

#### å‡ºæ–¹å‘è§„åˆ™

| ä¼˜å…ˆçº§ | åè®® | ç«¯å£ | æˆæƒå¯¹è±¡ | è¯´æ˜ |
|--------|------|------|----------|------|
| 1 | å…¨éƒ¨ | -1/-1 | 0.0.0.0/0 | å…è®¸æ‰€æœ‰å‡ºç«™ |

âš ï¸ **é‡è¦**:
- ä¸è¦å¼€æ”¾3306ï¼ˆMySQLï¼‰ç«¯å£
- ä¸è¦å¼€æ”¾3000ï¼ˆNode.jsï¼‰ç«¯å£
- SSHç«¯å£å»ºè®®é™åˆ¶IPè®¿é—®

---

## æ—¥å¸¸ç»´æŠ¤

### 1. æ—¥å¿—æ£€æŸ¥

#### åº”ç”¨æ—¥å¿—
```bash
# æŸ¥çœ‹æœ€æ–°æ—¥å¿—
tail -f /root/payment-points-backend/logs/combined.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f /root/payment-points-backend/logs/error.log

# æœç´¢ç‰¹å®šé”™è¯¯
grep "Error" /root/payment-points-backend/logs/error.log

# ç»Ÿè®¡ä»Šå¤©çš„é”™è¯¯æ•°
grep "$(date +%Y-%m-%d)" /root/payment-points-backend/logs/error.log | wc -l
```

#### Nginxæ—¥å¿—
```bash
# è®¿é—®æ—¥å¿—
tail -f /var/log/nginx/points-api-access.log

# é”™è¯¯æ—¥å¿—
tail -f /var/log/nginx/points-api-error.log

# åˆ†æè®¿é—®é‡æœ€é«˜çš„IP
awk '{print $1}' /var/log/nginx/points-api-access.log | sort | uniq -c | sort -rn | head -10
```

#### ç³»ç»Ÿæ—¥å¿—
```bash
# æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—
sudo journalctl -xe

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
sudo journalctl -u pm2-root

# å®æ—¶æŸ¥çœ‹
sudo journalctl -f
```

### 2. æ€§èƒ½ç›‘æ§

```bash
# æœåŠ¡å™¨èµ„æºç›‘æ§
htop

# ç£ç›˜ä½¿ç”¨
df -h

# å†…å­˜ä½¿ç”¨
free -m

# ç½‘ç»œè¿æ¥
netstat -tunlp

# PM2è¿›ç¨‹ç›‘æ§
pm2 monit

# PM2æ—¥å¿—
pm2 logs
```

### 3. æ•°æ®åº“ç»´æŠ¤

```bash
# æ£€æŸ¥æ•°æ®åº“å¤§å°
mysql -u points_app_user -p -e "
SELECT
  table_schema AS 'Database',
  ROUND(SUM(data_length + index_length) / 1024 / 1024, 2) AS 'Size (MB)'
FROM information_schema.TABLES
WHERE table_schema = 'points_app_prod'
GROUP BY table_schema;
"

# ä¼˜åŒ–è¡¨
mysql -u points_app_user -p points_app_prod -e "OPTIMIZE TABLE payment_orders;"

# æŸ¥çœ‹æ…¢æŸ¥è¯¢
sudo cat /var/log/mysql/slow.log
```

### 4. å®‰å…¨æ£€æŸ¥æ¸…å•

#### æ¯æ—¥æ£€æŸ¥
- [ ] æŸ¥çœ‹åº”ç”¨é”™è¯¯æ—¥å¿—
- [ ] æ£€æŸ¥PM2è¿›ç¨‹çŠ¶æ€
- [ ] æŸ¥çœ‹æœåŠ¡å™¨èµ„æºä½¿ç”¨

#### æ¯å‘¨æ£€æŸ¥
- [ ] æŸ¥çœ‹Nginxè®¿é—®æ—¥å¿—ï¼Œåˆ†æå¼‚å¸¸IP
- [ ] æ£€æŸ¥Fail2banå°ç¦è®°å½•
- [ ] æŸ¥çœ‹æ•°æ®åº“æ…¢æŸ¥è¯¢æ—¥å¿—
- [ ] æ£€æŸ¥ç£ç›˜ç©ºé—´ä½¿ç”¨

#### æ¯æœˆæ£€æŸ¥
- [ ] æ›´æ–°ç³»ç»Ÿå®‰å…¨è¡¥ä¸
- [ ] æ£€æŸ¥SSLè¯ä¹¦æœ‰æ•ˆæœŸ
- [ ] å®¡æŸ¥æ•°æ®åº“å¤‡ä»½
- [ ] æ£€æŸ¥é˜²ç«å¢™è§„åˆ™
- [ ] å®¡æŸ¥ç”¨æˆ·æƒé™

### 5. åº”æ€¥å“åº”

#### å‘ç°å¼‚å¸¸è®¿é—®
```bash
# 1. æŸ¥çœ‹å¼‚å¸¸IP
tail -100 /var/log/nginx/points-api-access.log | grep "POST"

# 2. å°ç¦IP
sudo ufw deny from å¼‚å¸¸IP

# 3. æŸ¥çœ‹Fail2bançŠ¶æ€
sudo fail2ban-client status sshd
```

#### æ•°æ®åº“è¢«æ”»å‡»
```bash
# 1. ç«‹å³åœæ­¢æ•°æ®åº“
sudo systemctl stop mysql

# 2. æ£€æŸ¥æ•°æ®å®Œæ•´æ€§
# 3. ä»å¤‡ä»½æ¢å¤
# 4. ä¿®æ”¹æ‰€æœ‰å¯†ç 
# 5. æ£€æŸ¥å®‰å…¨æ¼æ´
```

#### æœåŠ¡å™¨è´Ÿè½½è¿‡é«˜
```bash
# 1. æŸ¥çœ‹è¿›ç¨‹
top

# 2. é‡å¯æœåŠ¡
pm2 restart all

# 3. é‡å¯Nginx
sudo systemctl restart nginx

# 4. å¿…è¦æ—¶é‡å¯æœåŠ¡å™¨
sudo reboot
```

---

## å®‰å…¨æ£€æŸ¥å·¥å…·

### 1. å®‰è£…å®‰å…¨æ‰«æå·¥å…·

```bash
# å®‰è£…Lynisï¼ˆå®‰å…¨å®¡è®¡å·¥å…·ï¼‰
sudo apt install lynis

# è¿è¡Œå®‰å…¨å®¡è®¡
sudo lynis audit system

# æŸ¥çœ‹æŠ¥å‘Š
sudo cat /var/log/lynis.log
```

### 2. æ£€æŸ¥å¼€æ”¾ç«¯å£

```bash
# æŸ¥çœ‹ç›‘å¬ç«¯å£
sudo netstat -tunlp

# ä½¿ç”¨nmapæ‰«æï¼ˆå¤–éƒ¨ï¼‰
nmap -sV your_server_ip
```

### 3. æ£€æŸ¥æ–‡ä»¶æƒé™

```bash
# æ£€æŸ¥å…³é”®æ–‡ä»¶æƒé™
ls -l /root/payment-points-backend/.env
ls -l /etc/nginx/sites-available/points-api
ls -l /root/backup-db.sh
```

---

## æ€»ç»“

### âœ… å®Œæˆæ¸…å•

éƒ¨ç½²å®Œæˆåï¼Œç¡®ä¿ä»¥ä¸‹é¡¹ç›®éƒ½å·²å®Œæˆï¼š

#### æ•°æ®åº“å®‰å…¨
- [ ] åˆ›å»ºä¸“ç”¨æ•°æ®åº“ç”¨æˆ·ï¼ˆérootï¼‰
- [ ] è®¾ç½®å¼ºå¯†ç 
- [ ] é™åˆ¶ç”¨æˆ·æƒé™
- [ ] é…ç½®MySQLåªå…è®¸æœ¬åœ°è¿æ¥
- [ ] é…ç½®è‡ªåŠ¨å¤‡ä»½

#### æœåŠ¡å™¨å®‰å…¨
- [ ] æ›´æ–°ç³»ç»Ÿ
- [ ] é…ç½®SSHå®‰å…¨ï¼ˆç¦ç”¨rootï¼Œä½¿ç”¨å¯†é’¥ï¼‰
- [ ] é…ç½®é˜²ç«å¢™ï¼ˆUFWï¼‰
- [ ] å®‰è£…Fail2ban
- [ ] é™åˆ¶ä¸å¿…è¦çš„ç«¯å£

#### åº”ç”¨å®‰å…¨
- [ ] åˆ›å»º.envæ–‡ä»¶
- [ ] ç”Ÿæˆå¼ºJWTå¯†é’¥
- [ ] é…ç½®ALLOWED_ORIGINS
- [ ] è®¾ç½®åˆç†çš„é™æµå‚æ•°
- [ ] .envæ–‡ä»¶æƒé™è®¾ä¸º600

#### HTTPSé…ç½®
- [ ] å®‰è£…SSLè¯ä¹¦
- [ ] é…ç½®Nginxåå‘ä»£ç†
- [ ] é…ç½®HTTPSé‡å®šå‘
- [ ] é…ç½®å®‰å…¨å“åº”å¤´
- [ ] è®¾ç½®è¯ä¹¦è‡ªåŠ¨ç»­æœŸ

#### ç›‘æ§ä¸ç»´æŠ¤
- [ ] é…ç½®æ—¥å¿—è½®è½¬
- [ ] è®¾ç½®ç›‘æ§å‘Šè­¦
- [ ] é…ç½®æ•°æ®åº“å¤‡ä»½
- [ ] æ–‡æ¡£åŒ–åº”æ€¥å“åº”æµç¨‹

---

**å®‰å…¨æ˜¯æŒç»­çš„è¿‡ç¨‹ï¼Œä¸æ˜¯ä¸€æ¬¡æ€§çš„ä»»åŠ¡ï¼** ğŸ”’

å®šæœŸå®¡æŸ¥å’Œæ›´æ–°å®‰å…¨é…ç½®ï¼Œä¿æŒç³»ç»Ÿå®‰å…¨æ€§ã€‚
