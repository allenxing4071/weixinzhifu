# ç§¯åˆ†ç®¡ç†åå°æŠ€æœ¯æ¶æ„è®¾è®¡æ–‡æ¡£

## ğŸ“– æ–‡æ¡£ä¿¡æ¯
- **æ–‡æ¡£ç‰ˆæœ¬**ï¼šV1.0
- **åˆ›å»ºæ—¥æœŸ**ï¼š2024å¹´12æœˆ
- **æŠ€æœ¯è´Ÿè´£äºº**ï¼šåç«¯å¼€å‘å›¢é˜Ÿ
- **è¯„å®¡çŠ¶æ€**ï¼šå¾…æŠ€æœ¯è¯„å®¡

---

## ğŸ— æ•´ä½“æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç®¡ç†åå°å‰ç«¯                          â”‚
â”‚  React + TypeScript + Ant Design Pro + ECharts        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     Nginx                              â”‚
â”‚              (é™æ€æ–‡ä»¶ + APIä»£ç†)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   åç«¯APIæœåŠ¡                           â”‚
â”‚     Express.js + TypeScript (æ‰©å±•ç°æœ‰API)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              æ•°æ®å±‚ (å¤ç”¨ç°æœ‰æ¶æ„)                       â”‚
â”‚     MySQL 8.0 + Redis 6.0 + ä¸šåŠ¡æ•°æ®è¡¨                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯é€‰å‹è¯´æ˜

#### å‰ç«¯æŠ€æœ¯æ ˆ
- **React 18**ï¼šä¸»æµæ¡†æ¶ï¼Œç”Ÿæ€æˆç†Ÿ
- **TypeScript**ï¼šç±»å‹å®‰å…¨ï¼Œæå‡å¼€å‘æ•ˆç‡
- **Ant Design Pro**ï¼šä¼ä¸šçº§ç®¡ç†åå°è§£å†³æ–¹æ¡ˆ
- **ECharts**ï¼šå¼ºå¤§çš„æ•°æ®å¯è§†åŒ–åº“
- **Redux Toolkit**ï¼šçŠ¶æ€ç®¡ç†
- **React Query**ï¼šæœåŠ¡ç«¯çŠ¶æ€ç®¡ç†

#### åç«¯æŠ€æœ¯æ ˆï¼ˆæ‰©å±•ç°æœ‰ï¼‰
- **Express.js**ï¼šå¤ç”¨ç°æœ‰æ¡†æ¶
- **TypeScript**ï¼šä¿æŒæŠ€æœ¯æ ˆä¸€è‡´æ€§
- **JWTè®¤è¯**ï¼šæ‰©å±•æ”¯æŒç®¡ç†å‘˜è®¤è¯
- **RBACæƒé™æ¨¡å‹**ï¼šåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- **æ•°æ®éªŒè¯**ï¼šJoiå‚æ•°éªŒè¯

---

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### æ–°å¢ç®¡ç†åå°ç›¸å…³è¡¨

#### 1. ç®¡ç†å‘˜è¡¨ (admins)
```sql
CREATE TABLE admins (
  id VARCHAR(50) PRIMARY KEY,
  username VARCHAR(50) NOT NULL UNIQUE COMMENT 'ç”¨æˆ·å',
  password_hash VARCHAR(255) NOT NULL COMMENT 'å¯†ç å“ˆå¸Œ',
  real_name VARCHAR(100) NOT NULL COMMENT 'çœŸå®å§“å',
  email VARCHAR(100) COMMENT 'é‚®ç®±',
  phone VARCHAR(20) COMMENT 'æ‰‹æœºå·',
  role_id VARCHAR(50) NOT NULL COMMENT 'è§’è‰²ID',
  status ENUM('active', 'inactive', 'locked') DEFAULT 'active',
  last_login_at TIMESTAMP NULL COMMENT 'æœ€åç™»å½•æ—¶é—´',
  last_login_ip VARCHAR(45) NULL COMMENT 'æœ€åç™»å½•IP',
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  
  FOREIGN KEY (role_id) REFERENCES admin_roles(id),
  INDEX idx_username (username),
  INDEX idx_status (status),
  INDEX idx_role (role_id)
);
```

#### 2. è§’è‰²è¡¨ (admin_roles)
```sql
CREATE TABLE admin_roles (
  id VARCHAR(50) PRIMARY KEY,
  role_name VARCHAR(100) NOT NULL UNIQUE COMMENT 'è§’è‰²åç§°',
  role_code VARCHAR(50) NOT NULL UNIQUE COMMENT 'è§’è‰²ä»£ç ',
  description TEXT COMMENT 'è§’è‰²æè¿°',
  permissions JSON COMMENT 'æƒé™åˆ—è¡¨',
  status ENUM('active', 'inactive') DEFAULT 'active',
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  
  INDEX idx_role_code (role_code),
  INDEX idx_status (status)
);
```

#### 3. ç®¡ç†æ—¥å¿—è¡¨ (admin_logs)
```sql
CREATE TABLE admin_logs (
  id VARCHAR(50) PRIMARY KEY,
  admin_id VARCHAR(50) NOT NULL COMMENT 'ç®¡ç†å‘˜ID',
  action VARCHAR(100) NOT NULL COMMENT 'æ“ä½œç±»å‹',
  resource VARCHAR(100) COMMENT 'æ“ä½œèµ„æº',
  resource_id VARCHAR(50) COMMENT 'èµ„æºID',
  details JSON COMMENT 'æ“ä½œè¯¦æƒ…',
  ip_address VARCHAR(45) COMMENT 'IPåœ°å€',
  user_agent TEXT COMMENT 'ç”¨æˆ·ä»£ç†',
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  
  FOREIGN KEY (admin_id) REFERENCES admins(id),
  INDEX idx_admin_id (admin_id),
  INDEX idx_action (action),
  INDEX idx_created_at (created_at)
);
```

#### 4. ç³»ç»Ÿé…ç½®è¡¨ (system_config)
```sql
CREATE TABLE system_config (
  id VARCHAR(50) PRIMARY KEY,
  config_key VARCHAR(100) NOT NULL UNIQUE COMMENT 'é…ç½®é”®',
  config_value TEXT COMMENT 'é…ç½®å€¼',
  config_type ENUM('string', 'number', 'boolean', 'json') DEFAULT 'string',
  description VARCHAR(255) COMMENT 'é…ç½®æè¿°',
  is_public BOOLEAN DEFAULT FALSE COMMENT 'æ˜¯å¦å…¬å¼€é…ç½®',
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  
  INDEX idx_config_key (config_key),
  INDEX idx_is_public (is_public)
);
```

### æ•°æ®è§†å›¾æ‰©å±•

#### ç®¡ç†åå°ç»Ÿè®¡è§†å›¾
```sql
-- ç”¨æˆ·ç»Ÿè®¡æ¦‚è§ˆ
CREATE VIEW v_admin_user_stats AS
SELECT 
  COUNT(*) as total_users,
  COUNT(CASE WHEN status = 'active' THEN 1 END) as active_users,
  COUNT(CASE WHEN DATE(created_at) = CURDATE() THEN 1 END) as today_new_users,
  AVG(points_balance) as avg_points_balance,
  SUM(points_balance) as total_points_balance
FROM users;

-- å•†æˆ·ç»Ÿè®¡æ¦‚è§ˆ
CREATE VIEW v_admin_merchant_stats AS
SELECT 
  COUNT(*) as total_merchants,
  COUNT(CASE WHEN status = 'active' THEN 1 END) as active_merchants,
  COUNT(CASE WHEN DATE(created_at) = CURDATE() THEN 1 END) as today_new_merchants,
  SUM(total_amount) as total_transaction_amount,
  SUM(total_orders) as total_orders
FROM merchants;

-- æ”¯ä»˜ç»Ÿè®¡æ¦‚è§ˆ
CREATE VIEW v_admin_payment_stats AS
SELECT 
  COUNT(*) as total_orders,
  COUNT(CASE WHEN status = 'paid' THEN 1 END) as paid_orders,
  COUNT(CASE WHEN DATE(created_at) = CURDATE() THEN 1 END) as today_orders,
  SUM(CASE WHEN status = 'paid' THEN amount ELSE 0 END) as total_paid_amount,
  AVG(CASE WHEN status = 'paid' THEN amount ELSE NULL END) as avg_order_amount
FROM payment_orders;
```

---

## ğŸ” å®‰å…¨æ¶æ„è®¾è®¡

### è®¤è¯æœºåˆ¶
```typescript
// JWT Tokenç»“æ„
interface AdminToken {
  adminId: string
  username: string
  roleId: string
  permissions: string[]
  sessionId: string
  exp: number
  iat: number
}
```

### æƒé™æ§åˆ¶
```typescript
// æƒé™æšä¸¾
enum Permission {
  // ç”¨æˆ·ç®¡ç†
  USER_VIEW = 'user:view',
  USER_EDIT = 'user:edit',
  USER_DELETE = 'user:delete',
  
  // å•†æˆ·ç®¡ç†
  MERCHANT_VIEW = 'merchant:view',
  MERCHANT_APPROVE = 'merchant:approve',
  MERCHANT_EDIT = 'merchant:edit',
  
  // ç§¯åˆ†ç®¡ç†
  POINTS_VIEW = 'points:view',
  POINTS_ADJUST = 'points:adjust',
  POINTS_CONFIG = 'points:config',
  
  // è®¢å•ç®¡ç†
  ORDER_VIEW = 'order:view',
  ORDER_REFUND = 'order:refund',
  
  // ç³»ç»Ÿç®¡ç†
  SYSTEM_CONFIG = 'system:config',
  SYSTEM_LOGS = 'system:logs',
  
  // è´¢åŠ¡ç®¡ç†
  FINANCE_VIEW = 'finance:view',
  FINANCE_EXPORT = 'finance:export'
}
```

### APIå®‰å…¨è®¾è®¡
```typescript
// æƒé™ä¸­é—´ä»¶
const requirePermission = (permission: Permission) => {
  return async (req: Request, res: Response, next: NextFunction) => {
    const token = req.headers.authorization?.replace('Bearer ', '')
    const decoded = jwt.verify(token, JWT_SECRET) as AdminToken
    
    if (!decoded.permissions.includes(permission)) {
      return res.status(403).json({
        success: false,
        code: 'INSUFFICIENT_PERMISSIONS',
        message: 'æƒé™ä¸è¶³'
      })
    }
    
    // è®°å½•æ“ä½œæ—¥å¿—
    await AdminLogService.log({
      adminId: decoded.adminId,
      action: req.method + ' ' + req.path,
      ip: req.ip,
      userAgent: req.get('User-Agent')
    })
    
    next()
  }
}
```

---

## ğŸŒ å‰ç«¯æ¶æ„è®¾è®¡

### é¡¹ç›®ç»“æ„
```
admin-frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Charts/         # å›¾è¡¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Forms/          # è¡¨å•ç»„ä»¶
â”‚   â”‚   â””â”€â”€ Tables/         # è¡¨æ ¼ç»„ä»¶
â”‚   â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Dashboard/      # ä»ªè¡¨æ¿
â”‚   â”‚   â”œâ”€â”€ Users/          # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ Merchants/      # å•†æˆ·ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ Points/         # ç§¯åˆ†ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ Orders/         # è®¢å•ç®¡ç†
â”‚   â”‚   â””â”€â”€ Settings/       # ç³»ç»Ÿè®¾ç½®
â”‚   â”œâ”€â”€ services/           # APIæœåŠ¡
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰Hooks
â”‚   â”œâ”€â”€ store/              # çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ types/              # TypeScriptç±»å‹
â”œâ”€â”€ public/
â””â”€â”€ package.json
```

### æ ¸å¿ƒæœåŠ¡è®¾è®¡
```typescript
// APIæœåŠ¡åŸºç±»
class AdminApiService {
  private baseURL = 'http://8.156.84.226/api/v1/admin'
  
  // ç”¨æˆ·ç®¡ç†API
  users = {
    list: (params: UserListParams) => this.get('/users', params),
    detail: (id: string) => this.get(`/users/${id}`),
    update: (id: string, data: UpdateUserData) => this.put(`/users/${id}`, data),
    adjustPoints: (id: string, points: number, reason: string) => 
      this.post(`/users/${id}/points/adjust`, { points, reason })
  }
  
  // å•†æˆ·ç®¡ç†API
  merchants = {
    list: (params: MerchantListParams) => this.get('/merchants', params),
    approve: (id: string, approved: boolean) => 
      this.post(`/merchants/${id}/approve`, { approved }),
    stats: (id: string) => this.get(`/merchants/${id}/stats`)
  }
  
  // ç§¯åˆ†ç®¡ç†API
  points = {
    stats: (params: StatsParams) => this.get('/points/stats', params),
    records: (params: RecordParams) => this.get('/points/records', params),
    config: () => this.get('/points/config'),
    updateConfig: (config: PointsConfig) => this.put('/points/config', config)
  }
}
```

---

## ğŸ“Š æ•°æ®å¯è§†åŒ–è®¾è®¡

### ä»ªè¡¨æ¿å›¾è¡¨é…ç½®
```typescript
// æ”¯ä»˜è¶‹åŠ¿å›¾é…ç½®
const paymentTrendChart = {
  type: 'line',
  data: {
    xAxis: ['ä»Šæ—¥', 'æ˜¨æ—¥', 'å‰æ—¥', '3æ—¥å‰', '4æ—¥å‰', '5æ—¥å‰', '6æ—¥å‰'],
    series: [
      {
        name: 'æ”¯ä»˜é‡‘é¢',
        data: [12000, 15000, 8000, 18000, 22000, 16000, 19000],
        color: '#1890ff'
      },
      {
        name: 'æ”¯ä»˜è®¢å•æ•°',
        data: [120, 150, 80, 180, 220, 160, 190],
        color: '#52c41a'
      }
    ]
  }
}

// ç§¯åˆ†åˆ†å¸ƒé¥¼å›¾
const pointsDistributionChart = {
  type: 'pie',
  data: [
    { name: 'æ´»è·ƒç”¨æˆ·ç§¯åˆ†', value: 400000 },
    { name: 'æ²‰ç¡ç”¨æˆ·ç§¯åˆ†', value: 200000 },
    { name: 'å³å°†è¿‡æœŸç§¯åˆ†', value: 50000 }
  ]
}
```

### æ•°æ®åˆ·æ–°ç­–ç•¥
```typescript
// å®æ—¶æ•°æ®åˆ·æ–°é…ç½®
const dataRefreshConfig = {
  dashboard: {
    interval: 5 * 60 * 1000,  // 5åˆ†é’Ÿ
    apis: ['stats/overview', 'stats/trends']
  },
  userList: {
    interval: 30 * 1000,     // 30ç§’
    condition: 'onFocus'     // é¡µé¢è·å¾—ç„¦ç‚¹æ—¶åˆ·æ–°
  },
  systemMonitor: {
    interval: 10 * 1000,     // 10ç§’
    apis: ['system/health', 'system/performance']
  }
}
```

---

## ğŸ”Œ APIæ¥å£è®¾è®¡

### RESTful APIè§„èŒƒ

#### ç®¡ç†å‘˜è®¤è¯æ¥å£
```typescript
// ç®¡ç†å‘˜ç™»å½•
POST /api/v1/admin/auth/login
{
  "username": "admin",
  "password": "password",
  "captcha": "1234"
}

// å“åº”
{
  "success": true,
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIs...",
    "adminInfo": {
      "id": "admin_001",
      "username": "admin",
      "realName": "å¼ ä¸‰",
      "role": "super_admin",
      "permissions": ["user:view", "user:edit", ...]
    }
  }
}
```

#### ç”¨æˆ·ç®¡ç†æ¥å£
```typescript
// ç”¨æˆ·åˆ—è¡¨æŸ¥è¯¢
GET /api/v1/admin/users?page=1&pageSize=20&status=active&keyword=search

// ç”¨æˆ·è¯¦æƒ…
GET /api/v1/admin/users/:id

// è°ƒæ•´ç”¨æˆ·ç§¯åˆ†
POST /api/v1/admin/users/:id/points/adjust
{
  "points": 100,
  "reason": "æ´»åŠ¨å¥–åŠ±",
  "type": "add"
}
```

#### å•†æˆ·ç®¡ç†æ¥å£
```typescript
// å•†æˆ·å®¡æ ¸
POST /api/v1/admin/merchants/:id/approve
{
  "approved": true,
  "comment": "å®¡æ ¸é€šè¿‡"
}

// å•†æˆ·æ•°æ®ç»Ÿè®¡
GET /api/v1/admin/merchants/:id/stats?startDate=2024-01-01&endDate=2024-12-31
```

#### æ•°æ®ç»Ÿè®¡æ¥å£
```typescript
// ä»ªè¡¨æ¿æ•°æ®
GET /api/v1/admin/dashboard/stats

// å“åº”ç»“æ„
{
  "success": true,
  "data": {
    "overview": {
      "totalUsers": 10000,
      "activeUsers": 8500,
      "totalMerchants": 150,
      "todayOrders": 1200,
      "todayAmount": 580000,
      "todayPoints": 580000
    },
    "trends": {
      "userGrowth": [...],
      "paymentTrend": [...],
      "pointsTrend": [...]
    },
    "alerts": [
      {
        "type": "warning",
        "message": "ä»Šæ—¥æ”¯ä»˜å¼‚å¸¸ç‡åé«˜",
        "value": "3.2%"
      }
    ]
  }
}
```

---

## ğŸ›¡ï¸ å®‰å…¨æ¶æ„å®ç°

### è®¤è¯æµç¨‹è®¾è®¡
```typescript
// ç®¡ç†å‘˜è®¤è¯æœåŠ¡
class AdminAuthService {
  static async login(username: string, password: string) {
    // 1. éªŒè¯ç”¨æˆ·åå¯†ç 
    const admin = await AdminModel.findByUsername(username)
    if (!admin || !await bcrypt.compare(password, admin.passwordHash)) {
      throw new Error('ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯')
    }
    
    // 2. æ£€æŸ¥è´¦å·çŠ¶æ€
    if (admin.status !== 'active') {
      throw new Error('è´¦å·å·²è¢«ç¦ç”¨')
    }
    
    // 3. ç”Ÿæˆä¼šè¯
    const sessionId = generateSessionId()
    await redis.setex(`admin_session:${sessionId}`, 7200, admin.id)
    
    // 4. ç”ŸæˆJWT
    const token = jwt.sign({
      adminId: admin.id,
      username: admin.username,
      roleId: admin.roleId,
      sessionId,
      permissions: await this.getAdminPermissions(admin.roleId)
    }, JWT_SECRET, { expiresIn: '2h' })
    
    // 5. è®°å½•ç™»å½•æ—¥å¿—
    await AdminLogService.log({
      adminId: admin.id,
      action: 'LOGIN',
      ip: req.ip
    })
    
    return { token, adminInfo: admin }
  }
}
```

### æƒé™éªŒè¯ä¸­é—´ä»¶
```typescript
// æƒé™è£…é¥°å™¨
const RequirePermission = (permission: Permission) => {
  return (target: any, propertyKey: string, descriptor: PropertyDescriptor) => {
    const originalMethod = descriptor.value
    
    descriptor.value = async function(req: Request, res: Response, next: NextFunction) {
      try {
        const hasPermission = await checkPermission(req.user, permission)
        if (!hasPermission) {
          return res.status(403).json({
            success: false,
            code: 'INSUFFICIENT_PERMISSIONS',
            message: 'æƒé™ä¸è¶³'
          })
        }
        
        return await originalMethod.call(this, req, res, next)
      } catch (error) {
        next(error)
      }
    }
    
    return descriptor
  }
}
```

---

## ğŸ“± å‰ç«¯ç»„ä»¶æ¶æ„

### æ ¸å¿ƒç»„ä»¶è®¾è®¡

#### 1. æ•°æ®è¡¨æ ¼ç»„ä»¶
```typescript
interface AdminTableProps<T> {
  columns: ColumnConfig[]
  dataSource: T[]
  loading?: boolean
  pagination?: PaginationConfig
  selection?: SelectionConfig
  actions?: ActionConfig[]
  onSearch?: (params: SearchParams) => void
  onExport?: () => void
}

const AdminTable = <T,>({ 
  columns, 
  dataSource, 
  loading,
  ...props 
}: AdminTableProps<T>) => {
  // è¡¨æ ¼å®ç°
}
```

#### 2. ç»Ÿè®¡å¡ç‰‡ç»„ä»¶
```typescript
interface StatsCardProps {
  title: string
  value: number | string
  trend?: {
    value: number
    type: 'up' | 'down'
    period: string
  }
  icon?: ReactNode
  color?: string
  loading?: boolean
}

const StatsCard: React.FC<StatsCardProps> = ({ 
  title, 
  value, 
  trend, 
  icon,
  color = '#1890ff',
  loading = false 
}) => {
  // å¡ç‰‡å®ç°
}
```

#### 3. å›¾è¡¨å®¹å™¨ç»„ä»¶
```typescript
interface ChartContainerProps {
  title: string
  type: 'line' | 'bar' | 'pie' | 'area'
  data: ChartData
  height?: number
  loading?: boolean
  refreshInterval?: number
  onRefresh?: () => void
}

const ChartContainer: React.FC<ChartContainerProps> = ({
  title,
  type,
  data,
  height = 400,
  loading = false,
  refreshInterval,
  onRefresh
}) => {
  // å›¾è¡¨å®ç°
}
```

---

## ğŸš€ éƒ¨ç½²æ¶æ„

### å‰åç«¯åˆ†ç¦»éƒ¨ç½²
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              CDN / é˜¿é‡Œäº‘OSS             â”‚
â”‚            (é™æ€èµ„æºåˆ†å‘)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                Nginx                   â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     â”‚   å‰ç«¯é™æ€   â”‚    APIä»£ç†      â”‚    â”‚
â”‚     â”‚   æ–‡ä»¶æœåŠ¡   â”‚   (åç«¯æ¥å£)    â”‚    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              Node.js API               â”‚
â”‚          (Express + TypeScript)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         MySQL + Redis                  â”‚
â”‚        (å¤ç”¨ç°æœ‰æ•°æ®åº“)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ„å»ºéƒ¨ç½²æµç¨‹
```bash
# å‰ç«¯æ„å»º
cd admin-frontend
npm run build
# ç”Ÿæˆ dist/ ç›®å½•

# éƒ¨ç½²åˆ°æœåŠ¡å™¨
scp -r dist/* root@8.156.84.226:/var/www/admin/

# åç«¯APIæ‰©å±•
cd backend
# æ·»åŠ ç®¡ç†åå°APIè·¯ç”±
# æ‰©å±•ç°æœ‰Expressåº”ç”¨

# é‡å¯æœåŠ¡
pm2 restart points-api-simple
```

---

## ğŸ“‹ å¼€å‘é‡Œç¨‹ç¢‘

### é‡Œç¨‹ç¢‘1ï¼šæ–‡æ¡£è®¾è®¡å®Œæˆï¼ˆ1å‘¨ï¼‰
- âœ… PRDæ–‡æ¡£å®Œæˆ
- âœ… æŠ€æœ¯æ¶æ„è®¾è®¡å®Œæˆ
- âœ… UI/UXè®¾è®¡ç¨¿å®Œæˆ
- âœ… APIæ¥å£æ–‡æ¡£å®Œæˆ

### é‡Œç¨‹ç¢‘2ï¼šåŸºç¡€æ¡†æ¶å®Œæˆï¼ˆ2å‘¨ï¼‰
- [ ] å‰ç«¯é¡¹ç›®è„šæ‰‹æ¶æ­å»º
- [ ] ç®¡ç†å‘˜è®¤è¯ç³»ç»Ÿ
- [ ] æƒé™ç®¡ç†æ¡†æ¶
- [ ] åŸºç¡€é¡µé¢å¸ƒå±€

### é‡Œç¨‹ç¢‘3ï¼šæ ¸å¿ƒåŠŸèƒ½å®Œæˆï¼ˆ4å‘¨ï¼‰
- [ ] ä»ªè¡¨æ¿é¡µé¢
- [ ] ç”¨æˆ·ç®¡ç†æ¨¡å—
- [ ] å•†æˆ·ç®¡ç†æ¨¡å—
- [ ] ç§¯åˆ†ç®¡ç†æ¨¡å—

### é‡Œç¨‹ç¢‘4ï¼šé«˜çº§åŠŸèƒ½å®Œæˆï¼ˆ3å‘¨ï¼‰
- [ ] æ•°æ®ç»Ÿè®¡æŠ¥è¡¨
- [ ] ç³»ç»Ÿç›‘æ§é¡µé¢
- [ ] æ“ä½œæ—¥å¿—ç®¡ç†
- [ ] ç³»ç»Ÿé…ç½®ç®¡ç†

### é‡Œç¨‹ç¢‘5ï¼šæµ‹è¯•éƒ¨ç½²å®Œæˆï¼ˆ1å‘¨ï¼‰
- [ ] åŠŸèƒ½æµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•
- [ ] å®‰å…¨æµ‹è¯•
- [ ] ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

---

## ğŸ¯ æŠ€æœ¯å®æ–½å»ºè®®

### å¼€å‘ä¼˜å…ˆçº§
1. **é«˜ä¼˜å…ˆçº§**ï¼šç™»å½•è®¤è¯ã€ä»ªè¡¨æ¿ã€ç”¨æˆ·ç®¡ç†
2. **ä¸­ä¼˜å…ˆçº§**ï¼šå•†æˆ·ç®¡ç†ã€ç§¯åˆ†ç®¡ç†ã€è®¢å•ç®¡ç†
3. **ä½ä¼˜å…ˆçº§**ï¼šé«˜çº§æŠ¥è¡¨ã€ç³»ç»Ÿç›‘æ§ã€è¥é”€åŠŸèƒ½

### æŠ€æœ¯å€ºåŠ¡æ§åˆ¶
1. **ä»£ç è§„èŒƒ**ï¼šESLint + Prettierç»Ÿä¸€ä»£ç é£æ ¼
2. **å•å…ƒæµ‹è¯•**ï¼šå…³é”®ä¸šåŠ¡é€»è¾‘æµ‹è¯•è¦†ç›–ç‡â‰¥80%
3. **æ–‡æ¡£åŒæ­¥**ï¼šä»£ç å’Œæ–‡æ¡£åŒæ­¥æ›´æ–°
4. **æ€§èƒ½ç›‘æ§**ï¼šå‰ç«¯æ€§èƒ½å’ŒAPIæ€§èƒ½ç›‘æ§

---

**æ–‡æ¡£çŠ¶æ€**ï¼šå¾…æŠ€æœ¯å›¢é˜Ÿè¯„å®¡  
**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**ï¼šUI/UXè®¾è®¡å’Œå‰ç«¯æŠ€æœ¯é€‰å‹ç»†åŒ–  
**è´£ä»»äºº**ï¼šæŠ€æœ¯è´Ÿè´£äºº  
**é¢„è®¡å¼€å‘æ—¶é—´**ï¼š10å‘¨ï¼ˆ2.5ä¸ªæœˆï¼‰
