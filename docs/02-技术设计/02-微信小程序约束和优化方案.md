# 02-å¾®ä¿¡å°ç¨‹åºçº¦æŸå’Œä¼˜åŒ–æ–¹æ¡ˆ

## ğŸ“– æ–‡æ¡£ä¿¡æ¯
- **æ–‡æ¡£ç‰ˆæœ¬**ï¼šV1.0
- **åˆ›å»ºæ—¥æœŸ**ï¼š2024å¹´12æœˆ
- **æŠ€æœ¯è´Ÿè´£äºº**ï¼š[å§“å]
- **æ¶æ„å¸ˆ**ï¼š[å§“å]
- **è¯„å®¡çŠ¶æ€**ï¼šå¾…è¯„å®¡

---

## ğŸ¯ æ–‡æ¡£æ¦‚è¿°

æœ¬æ–‡æ¡£ä¸“é—¨é’ˆå¯¹å¾®ä¿¡å°ç¨‹åºçš„é™åˆ¶æ¡ä»¶åˆ¶å®šæŠ€æœ¯æ–¹æ¡ˆï¼Œç¡®ä¿é¡¹ç›®åœ¨ä»£ç åŒ…å¤§å°é™åˆ¶å†…è¿è¡Œï¼Œå¹¶æœ€å¤§åŒ–æé«˜å¾®ä¿¡å®¡æ ¸é€šè¿‡ç‡ã€‚

### æ ¸å¿ƒçº¦æŸæ¡ä»¶
1. **ä»£ç åŒ…å¤§å°é™åˆ¶**ï¼šä¸»åŒ…â‰¤2MBï¼Œæ€»åŒ…â‰¤20MB
2. **å®¡æ ¸é€šè¿‡ç‡è¦æ±‚**ï¼šâ‰¥95%ä¸€æ¬¡æ€§é€šè¿‡
3. **åˆè§„æ€§è¦æ±‚**ï¼šç¬¦åˆå¾®ä¿¡å°ç¨‹åºæ‰€æœ‰å®¡æ ¸è§„èŒƒ
4. **æ€§èƒ½è¦æ±‚**ï¼šåœ¨çº¦æŸæ¡ä»¶ä¸‹ä¿è¯ç”¨æˆ·ä½“éªŒ

---

## ğŸ“¦ å¾®ä¿¡å°ç¨‹åºä»£ç åŒ…é™åˆ¶è¯¦è§£

### å®˜æ–¹é™åˆ¶è§„åˆ™ï¼ˆ2024å¹´æœ€æ–°ï¼‰

#### ä»£ç åŒ…å¤§å°é™åˆ¶
```typescript
const WechatLimitations = {
  // ä¸»åŒ…é™åˆ¶
  mainPackage: {
    maxSize: '2MB',
    includes: ['app.js', 'app.json', 'app.wxss', 'pages/', 'utils/', 'components/'],
    description: 'ä¸»åŒ…åŒ…å«å¯åŠ¨é¡µé¢å’Œæ ¸å¿ƒåŠŸèƒ½'
  },
  
  // åˆ†åŒ…é™åˆ¶
  subPackage: {
    maxSize: '2MB',
    maxCount: 20,
    totalMaxSize: '20MB',
    description: 'æ¯ä¸ªåˆ†åŒ…æœ€å¤§2MBï¼Œæœ€å¤š20ä¸ªåˆ†åŒ…'
  },
  
  // èµ„æºæ–‡ä»¶é™åˆ¶
  resources: {
    singleFile: '500KB',
    totalImages: 'å»ºè®®â‰¤5MB',
    description: 'å»ºè®®å›¾ç‰‡ç­‰èµ„æºä½¿ç”¨CDN'
  }
}
```

#### è®¡ç®—æ–¹å¼
```bash
# ä»£ç åŒ…å¤§å°è®¡ç®—
ä¸»åŒ…å¤§å° = app.js + app.json + app.wxss + pages/ + utils/ + components/
åˆ†åŒ…å¤§å° = å„åˆ†åŒ…ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶
æ€»åŒ…å¤§å° = ä¸»åŒ…å¤§å° + æ‰€æœ‰åˆ†åŒ…å¤§å°

# å®é™…æ£€æŸ¥å‘½ä»¤
du -sh dist/  # æŸ¥çœ‹æ€»å¤§å°
find dist/ -name "*.js" -exec du -ch {} + | grep total  # JSæ–‡ä»¶å¤§å°
```

### è¶…é™é£é™©å’Œåæœ
```typescript
const OverSizeRisks = {
  uploadFailure: {
    trigger: 'ä»£ç åŒ…è¶…è¿‡é™åˆ¶',
    consequence: 'æ— æ³•ä¸Šä¼ åˆ°å¾®ä¿¡å¼€å‘è€…å¹³å°',
    solution: 'ç«‹å³ä¼˜åŒ–ä»£ç åŒ…å¤§å°'
  },
  
  performanceIssues: {
    trigger: 'æ¥è¿‘å¤§å°é™åˆ¶',
    consequence: 'å°ç¨‹åºå¯åŠ¨ç¼“æ…¢ï¼Œç”¨æˆ·ä½“éªŒå·®',
    solution: 'é¢„é˜²æ€§ä¼˜åŒ–'
  },
  
  auditRejection: {
    trigger: 'èµ„æºä½¿ç”¨ä¸å½“',
    consequence: 'å®¡æ ¸è¢«æ‹’',
    solution: 'éµå¾ªæœ€ä½³å®è·µ'
  }
}
```

---

## ğŸ— åˆ†åŒ…æ¶æ„è®¾è®¡

### åˆ†åŒ…ç­–ç•¥

#### ä¸»åŒ…è®¾è®¡ï¼ˆç›®æ ‡ï¼šâ‰¤1.5MBï¼‰
```
ä¸»åŒ…å†…å®¹ï¼š
â”œâ”€â”€ app.jsï¼ˆåº”ç”¨å…¥å£ï¼‰
â”œâ”€â”€ app.jsonï¼ˆå…¨å±€é…ç½®ï¼‰
â”œâ”€â”€ app.wxssï¼ˆå…¨å±€æ ·å¼ï¼‰
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ index/ï¼ˆé¦–é¡µ - å¿…é¡»åœ¨ä¸»åŒ…ï¼‰
â”‚   â”œâ”€â”€ login/ï¼ˆç™»å½•é¡µï¼‰
â”‚   â””â”€â”€ scanner/ï¼ˆæ‰«ç é¡µï¼‰
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ request.jsï¼ˆç½‘ç»œè¯·æ±‚ï¼‰
â”‚   â”œâ”€â”€ auth.jsï¼ˆè®¤è¯å·¥å…·ï¼‰
â”‚   â””â”€â”€ storage.jsï¼ˆå­˜å‚¨å·¥å…·ï¼‰
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ common-button/ï¼ˆé€šç”¨æŒ‰é’®ï¼‰
â”‚   â”œâ”€â”€ loading/ï¼ˆåŠ è½½ç»„ä»¶ï¼‰
â”‚   â””â”€â”€ toast/ï¼ˆæç¤ºç»„ä»¶ï¼‰
â””â”€â”€ images/
    â””â”€â”€ icons/ï¼ˆå¿…éœ€å›¾æ ‡ï¼Œâ‰¤100KBï¼‰
```

#### åˆ†åŒ…1ï¼šæ”¯ä»˜æ¨¡å—ï¼ˆç›®æ ‡ï¼šâ‰¤1.8MBï¼‰
```
payment-package/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ payment-confirm/ï¼ˆæ”¯ä»˜ç¡®è®¤é¡µï¼‰
â”‚   â”œâ”€â”€ payment-result/ï¼ˆæ”¯ä»˜ç»“æœé¡µï¼‰
â”‚   â””â”€â”€ payment-history/ï¼ˆæ”¯ä»˜å†å²ï¼‰
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ payment-form/
â”‚   â”œâ”€â”€ amount-input/
â”‚   â””â”€â”€ payment-methods/
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ payment-helper.js
â”‚   â””â”€â”€ wechat-pay.js
â””â”€â”€ images/ï¼ˆæ”¯ä»˜ç›¸å…³å›¾æ ‡ï¼‰
```

#### åˆ†åŒ…2ï¼šç§¯åˆ†æ¨¡å—ï¼ˆç›®æ ‡ï¼šâ‰¤1.8MBï¼‰
```
points-package/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ points-balance/ï¼ˆç§¯åˆ†ä½™é¢ï¼‰
â”‚   â”œâ”€â”€ points-history/ï¼ˆç§¯åˆ†æ˜ç»†ï¼‰
â”‚   â””â”€â”€ points-rules/ï¼ˆç§¯åˆ†è§„åˆ™ï¼‰
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ points-card/
â”‚   â”œâ”€â”€ points-chart/
â”‚   â””â”€â”€ points-list/
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ points-calculator.js
â””â”€â”€ images/ï¼ˆç§¯åˆ†ç›¸å…³å›¾æ ‡ï¼‰
```

#### åˆ†åŒ…3ï¼šå•†æˆ·ç®¡ç†ï¼ˆç›®æ ‡ï¼šâ‰¤1.8MBï¼‰
```
merchant-package/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ merchant-dashboard/ï¼ˆå•†æˆ·ä»ªè¡¨æ¿ï¼‰
â”‚   â”œâ”€â”€ qrcode-manage/ï¼ˆäºŒç»´ç ç®¡ç†ï¼‰
â”‚   â””â”€â”€ transaction-list/ï¼ˆäº¤æ˜“åˆ—è¡¨ï¼‰
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ merchant-card/
â”‚   â”œâ”€â”€ qrcode-generator/
â”‚   â””â”€â”€ stats-chart/
â””â”€â”€ utils/
    â””â”€â”€ merchant-helper.js
```

### åˆ†åŒ…é…ç½®
```json
{
  "pages": ["pages/index/index", "pages/login/login"],
  "subPackages": [
    {
      "root": "payment-package",
      "name": "payment",
      "pages": [
        "pages/payment-confirm/index",
        "pages/payment-result/index",
        "pages/payment-history/index"
      ]
    },
    {
      "root": "points-package", 
      "name": "points",
      "pages": [
        "pages/points-balance/index",
        "pages/points-history/index"
      ]
    },
    {
      "root": "merchant-package",
      "name": "merchant", 
      "pages": [
        "pages/merchant-dashboard/index",
        "pages/qrcode-manage/index"
      ]
    }
  ],
  "preloadRule": {
    "pages/index/index": {
      "network": "all",
      "packages": ["payment"]
    }
  }
}
```

---

## ğŸš€ ä»£ç åŒ…ä¼˜åŒ–ç­–ç•¥

### 1. ä»£ç å‹ç¼©å’Œç²¾ç®€

#### JavaScriptä¼˜åŒ–
```typescript
// ä½¿ç”¨æ„å»ºå·¥å…·å‹ç¼©
const buildConfig = {
  // Terseré…ç½®ï¼ˆæ¨èï¼‰
  terser: {
    compress: {
      drop_console: true,    // åˆ é™¤console
      drop_debugger: true,   // åˆ é™¤debugger
      pure_funcs: ['console.log', 'console.info']
    },
    mangle: {
      keep_fnames: false     // å‹ç¼©å‡½æ•°å
    }
  },
  
  // Tree Shaking
  treeShaking: {
    enabled: true,
    sideEffects: false
  }
}

// ä»£ç åˆ†å‰²ç¤ºä¾‹
// æŒ‰éœ€å¯¼å…¥å·¥å…·å‡½æ•°
import { formatDate } from '@/utils/date'  // âœ… æ¨è
// import * as utils from '@/utils'        // âŒ é¿å…
```

#### CSSä¼˜åŒ–
```css
/* ä½¿ç”¨CSSå‹ç¼© */
/* åŸå§‹ä»£ç  */
.payment-button {
  background-color: #07c160;
  border-radius: 4px;
  padding: 12px 24px;
  font-size: 16px;
}

/* å‹ç¼©å */
.payment-button{background:#07c160;border-radius:4px;padding:12px 24px;font-size:16px}
```

#### ç»„ä»¶æ‡’åŠ è½½
```typescript
// ç»„ä»¶æ‡’åŠ è½½é…ç½®
const LazyLoadComponents = {
  // éå…³é”®ç»„ä»¶æ‡’åŠ è½½
  'points-chart': {
    path: 'points-package/components/points-chart/index',
    lazy: true
  },
  
  'merchant-stats': {
    path: 'merchant-package/components/stats-chart/index', 
    lazy: true
  }
}
```

### 2. èµ„æºä¼˜åŒ–ç­–ç•¥

#### å›¾ç‰‡ä¼˜åŒ–æ–¹æ¡ˆ
```typescript
const ImageOptimization = {
  // å›¾ç‰‡æ ¼å¼é€‰æ‹©
  formats: {
    icons: 'SVG',           // å›¾æ ‡ä½¿ç”¨SVG
    photos: 'WebP',         // ç…§ç‰‡ä½¿ç”¨WebP
    fallback: 'JPEG'        // å…¼å®¹æ€§å›é€€
  },
  
  // å›¾ç‰‡å¤§å°æ§åˆ¶
  sizes: {
    icon: 'â‰¤5KB',
    thumbnail: 'â‰¤20KB', 
    banner: 'â‰¤50KB',
    background: 'â‰¤100KB'
  },
  
  // CDNç­–ç•¥
  cdn: {
    domain: 'https://cdn.example.com',
    usage: 'éå…³é”®å›¾ç‰‡ä¸Šä¼ CDN',
    localLimit: 'ä»…ä¿ç•™å¿…éœ€å›¾æ ‡'
  }
}

// å›¾ç‰‡ä½¿ç”¨ç¤ºä¾‹
<image 
  src="{{item.avatar || 'https://cdn.example.com/default-avatar.webp'}}"
  mode="aspectFit"
  lazy-load="true"
/>
```

#### å­—ä½“ä¼˜åŒ–
```css
/* å­—ä½“ä¼˜åŒ– */
@font-face {
  font-family: 'CustomFont';
  src: url('https://cdn.example.com/fonts/custom.woff2') format('woff2');
  font-display: swap; /* æå‡åŠ è½½æ€§èƒ½ */
}

/* ç³»ç»Ÿå­—ä½“ä¼˜å…ˆ */
.text {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
}
```

### 3. ä¾èµ–åº“ä¼˜åŒ–

#### ç¬¬ä¸‰æ–¹åº“é€‰æ‹©
```typescript
// æ¨èçš„è½»é‡çº§åº“
const RecommendedLibs = {
  // æ—¶é—´å¤„ç†ï¼ˆ2KBï¼‰
  date: 'dayjs',          // æ›¿ä»£moment.jsï¼ˆ66KBï¼‰
  
  // å·¥å…·å‡½æ•°ï¼ˆæŒ‰éœ€å¼•å…¥ï¼‰
  utils: 'lodash-es',     // æ”¯æŒtree-shaking
  
  // çŠ¶æ€ç®¡ç†ï¼ˆ5KBï¼‰
  state: 'zustand',       // æ›¿ä»£redux
  
  // ç½‘ç»œè¯·æ±‚ï¼ˆå†…ç½®ï¼‰
  http: 'wx.request'      // é¿å…å¼•å…¥axios
}

// æŒ‰éœ€å¼•å…¥ç¤ºä¾‹
import { cloneDeep } from 'lodash-es'  // âœ… åªå¼•å…¥éœ€è¦çš„å‡½æ•°
// import _ from 'lodash'               // âŒ å¼•å…¥æ•´ä¸ªåº“
```

#### è‡ªå®šä¹‰å·¥å…·å‡½æ•°
```typescript
// ç”¨è½»é‡çº§è‡ªå®šä¹‰å‡½æ•°æ›¿ä»£é‡å‹åº“
const utils = {
  // æ›¿ä»£lodash.debounceï¼ˆè‡ªå®ç°200B vs åº“2KBï¼‰
  debounce: (func: Function, wait: number) => {
    let timeout: number
    return function executedFunction(...args: any[]) {
      const later = () => {
        clearTimeout(timeout)
        func(...args)
      }
      clearTimeout(timeout)
      timeout = setTimeout(later, wait)
    }
  },
  
  // æ›¿ä»£moment.jsçš„ç®€å•æ ¼å¼åŒ–
  formatDate: (date: Date, format = 'YYYY-MM-DD') => {
    const year = date.getFullYear()
    const month = (date.getMonth() + 1).toString().padStart(2, '0')
    const day = date.getDate().toString().padStart(2, '0')
    return format.replace('YYYY', year.toString())
                .replace('MM', month)
                .replace('DD', day)
  }
}
```

---

## âœ… å¾®ä¿¡å®¡æ ¸é€šè¿‡ç‡ä¼˜åŒ–

### å®¡æ ¸è§„åˆ™æ·±åº¦åˆ†æ

#### æ”¯ä»˜åŠŸèƒ½å®¡æ ¸è¦ç‚¹
```typescript
const PaymentAuditRules = {
  // å¿…éœ€èµ„è´¨
  requiredQualifications: {
    businessLicense: 'è¥ä¸šæ‰§ç…§',
    paymentLicense: 'æ”¯ä»˜ä¸šåŠ¡è®¸å¯è¯',
    merchantAgreement: 'å¾®ä¿¡æ”¯ä»˜å•†æˆ·åè®®',
    description: 'æ‰€æœ‰æ”¯ä»˜ç›¸å…³èµ„è´¨å¿…é¡»é½å…¨'
  },
  
  // åŠŸèƒ½åˆè§„æ€§
  compliance: {
    realGoods: 'å¿…é¡»é”€å”®çœŸå®å•†å“æˆ–æœåŠ¡',
    priceTransparency: 'ä»·æ ¼å¿…é¡»é€æ˜ï¼Œæ— éšè—è´¹ç”¨',
    refundPolicy: 'å¿…é¡»æä¾›é€€æ¬¾æ”¿ç­–',
    userAgreement: 'å¿…é¡»æœ‰ç”¨æˆ·åè®®å’Œéšç§æ”¿ç­–'
  },
  
  // æŠ€æœ¯è¦æ±‚
  technical: {
    httpsOnly: 'æ‰€æœ‰æ¥å£å¿…é¡»ä½¿ç”¨HTTPS',
    dataEncryption: 'æ•æ„Ÿæ•°æ®å¿…é¡»åŠ å¯†ä¼ è¾“',
    errorHandling: 'å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶',
    auditLog: 'å®Œæ•´çš„æ“ä½œæ—¥å¿—è®°å½•'
  }
}
```

#### ç§¯åˆ†ç³»ç»Ÿåˆè§„è¦æ±‚
```typescript
const PointsComplianceRules = {
  // ç§¯åˆ†æ€§è´¨è¯´æ˜
  nature: {
    virtualCurrency: 'ç§¯åˆ†ä¸ºè™šæ‹Ÿè´§å¸ï¼Œéæ³•å®šè´§å¸',
    platformSpecific: 'ä»…é™æœ¬å¹³å°ä½¿ç”¨',
    nonTransferable: 'ä¸å¯è½¬è®©ç»™ä»–äºº',
    terms: 'å¿…é¡»åœ¨ç”¨æˆ·åè®®ä¸­æ˜ç¡®è¯´æ˜'
  },
  
  // è·å¾—è§„åˆ™
  acquisition: {
    transparent: 'è·å¾—è§„åˆ™å¿…é¡»é€æ˜å…¬å¼€',
    reasonable: 'ç§¯åˆ†æ¯”ä¾‹å¿…é¡»åˆç†',
    noGambling: 'ä¸å¾—è®¾ç½®èµŒåšæ€§è´¨çš„è·å¾—æ–¹å¼',
    fairness: 'ç¡®ä¿å…¬å¹³æ€§ï¼Œæ— æ¬ºè¯ˆè¡Œä¸º'
  },
  
  // ä½¿ç”¨è§„åˆ™  
  usage: {
    clearExpiry: 'æœ‰æ•ˆæœŸå¿…é¡»æ˜ç¡®å‘ŠçŸ¥ç”¨æˆ·',
    valueStable: 'ç§¯åˆ†ä»·å€¼ç›¸å¯¹ç¨³å®š',
    usageScope: 'ä½¿ç”¨èŒƒå›´å¿…é¡»æ˜ç¡®',
    cancellation: 'å¹³å°æœ‰æƒå–æ¶ˆè¿è§„è·å¾—çš„ç§¯åˆ†'
  }
}
```

### æé«˜å®¡æ ¸é€šè¿‡ç‡çš„å…·ä½“æªæ–½

#### 1. å®Œå–„çš„ç”¨æˆ·åè®®å’Œéšç§æ”¿ç­–
```typescript
// å¿…éœ€çš„æ³•å¾‹æ–‡æ¡£
const LegalDocuments = {
  userAgreement: {
    title: 'ç”¨æˆ·æœåŠ¡åè®®',
    sections: [
      'æœåŠ¡å†…å®¹å’ŒèŒƒå›´',
      'ç”¨æˆ·æƒåˆ©å’Œä¹‰åŠ¡', 
      'ç§¯åˆ†è·å¾—å’Œä½¿ç”¨è§„åˆ™',
      'æ”¯ä»˜ç›¸å…³æ¡æ¬¾',
      'éšç§ä¿æŠ¤æ”¿ç­–',
      'å…è´£å£°æ˜',
      'äº‰è®®è§£å†³æ–¹å¼'
    ],
    visibility: 'æ³¨å†Œæ—¶å¿…é¡»ç”¨æˆ·ç¡®è®¤'
  },
  
  privacyPolicy: {
    title: 'éšç§ä¿æŠ¤æ”¿ç­–',
    sections: [
      'æ”¶é›†çš„ä¿¡æ¯ç±»å‹',
      'ä¿¡æ¯ä½¿ç”¨ç›®çš„',
      'ä¿¡æ¯å…±äº«å’ŒæŠ«éœ²',
      'ä¿¡æ¯å®‰å…¨ä¿æŠ¤',
      'ç”¨æˆ·æƒåˆ©',
      'è”ç³»æ–¹å¼'
    ],
    compliance: 'ç¬¦åˆã€Šä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•ã€‹'
  }
}
```

#### 2. è¯¦ç»†çš„åŠŸèƒ½è¯´æ˜å’Œå¸®åŠ©æ–‡æ¡£
```typescript
// å°ç¨‹åºå†…å¿…éœ€çš„è¯´æ˜é¡µé¢
const HelpPages = {
  pointsRules: {
    path: 'pages/points-rules/index',
    content: [
      'ç§¯åˆ†è·å¾—æ–¹å¼',
      'ç§¯åˆ†ä½¿ç”¨è§„åˆ™', 
      'ç§¯åˆ†æœ‰æ•ˆæœŸè¯´æ˜',
      'ç§¯åˆ†ä»·å€¼è¯´æ˜',
      'å¸¸è§é—®é¢˜è§£ç­”'
    ]
  },
  
  paymentHelp: {
    path: 'pages/payment-help/index',
    content: [
      'æ”¯ä»˜æµç¨‹è¯´æ˜',
      'æ”¯ä»˜å®‰å…¨ä¿éšœ',
      'é€€æ¬¾æ”¿ç­–',
      'å‘ç¥¨ç”³è¯·æµç¨‹',
      'å®¢æœè”ç³»æ–¹å¼'
    ]
  },
  
  merchantGuide: {
    path: 'pages/merchant-guide/index',
    content: [
      'å•†æˆ·å…¥é©»æµç¨‹',
      'æ”¶æ¬¾ç ä½¿ç”¨è¯´æ˜',
      'è´¹ç‡å’Œç»“ç®—è§„åˆ™',
      'æ•°æ®æŸ¥è¯¢åŠŸèƒ½',
      'æŠ€æœ¯æ”¯æŒè”ç³»æ–¹å¼'
    ]
  }
}
```

#### 3. å®Œå–„çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆ
```typescript
// é”™è¯¯å¤„ç†æœ€ä½³å®è·µ
const ErrorHandling = {
  // ç½‘ç»œé”™è¯¯
  networkError: {
    detection: 'è¯·æ±‚è¶…æ—¶æˆ–å¤±è´¥',
    userMessage: 'ç½‘ç»œè¿æ¥å¼‚å¸¸ï¼Œè¯·æ£€æŸ¥ç½‘ç»œåé‡è¯•',
    actions: ['é‡è¯•æŒ‰é’®', 'ç¦»çº¿æ¨¡å¼', 'è”ç³»å®¢æœ']
  },
  
  // æ”¯ä»˜é”™è¯¯
  paymentError: {
    detection: 'æ”¯ä»˜æµç¨‹å¼‚å¸¸',
    userMessage: 'æ”¯ä»˜é‡åˆ°é—®é¢˜ï¼Œè¯·é‡è¯•æˆ–è”ç³»å®¢æœ',
    actions: ['é‡æ–°æ”¯ä»˜', 'æŸ¥çœ‹å¸®åŠ©', 'è”ç³»å®¢æœ']
  },
  
  // ç§¯åˆ†é”™è¯¯
  pointsError: {
    detection: 'ç§¯åˆ†å‘æ”¾å¤±è´¥',
    userMessage: 'ç§¯åˆ†æ­£åœ¨å¤„ç†ä¸­ï¼Œå¦‚æœ‰ç–‘é—®è¯·è”ç³»å®¢æœ',
    actions: ['åˆ·æ–°é¡µé¢', 'æŸ¥çœ‹è§„åˆ™', 'è”ç³»å®¢æœ']
  }
}
```

#### 4. å®¢æœå’Œåé¦ˆæœºåˆ¶
```typescript
// å®¢æœæ”¯æŒé…ç½®
const CustomerService = {
  channels: {
    inApp: {
      button: 'å°ç¨‹åºå†…å®¢æœæŒ‰é’®',
      response: '24å°æ—¶å†…å›å¤',
      features: ['æ–‡å­—å’¨è¯¢', 'å›¾ç‰‡ä¸Šä¼ ', 'é—®é¢˜åˆ†ç±»']
    },
    
    phone: {
      number: '400-XXX-XXXX',
      hours: 'å·¥ä½œæ—¥ 9:00-18:00',
      language: 'ä¸­æ–‡æœåŠ¡'
    },
    
    email: {
      address: 'support@example.com',
      response: '48å°æ—¶å†…å›å¤',
      categories: ['æŠ€æœ¯é—®é¢˜', 'è´¦æˆ·é—®é¢˜', 'æŠ•è¯‰å»ºè®®']
    }
  },
  
  feedback: {
    rating: 'ç”¨æˆ·æ»¡æ„åº¦è¯„ä»·',
    suggestion: 'åŠŸèƒ½å»ºè®®æ”¶é›†',
    complaint: 'æŠ•è¯‰å¤„ç†æµç¨‹'
  }
}
```

### å®¡æ ¸å‰è‡ªæ£€æ¸…å•

#### åŠŸèƒ½å®Œæ•´æ€§æ£€æŸ¥
```typescript
const PreAuditChecklist = {
  // æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•
  coreFunctions: [
    'âœ… ç”¨æˆ·æ³¨å†Œç™»å½•æµç¨‹å®Œæ•´',
    'âœ… æ‰«ç æ”¯ä»˜åŠŸèƒ½æ­£å¸¸',
    'âœ… ç§¯åˆ†å‘æ”¾å‡†ç¡®æ— è¯¯',
    'âœ… ç§¯åˆ†æŸ¥è¯¢åŠŸèƒ½æ­£å¸¸',
    'âœ… å•†æˆ·ç®¡ç†åŠŸèƒ½å®Œæ•´'
  ],
  
  // å¼‚å¸¸æƒ…å†µå¤„ç†
  errorHandling: [
    'âœ… ç½‘ç»œå¼‚å¸¸æœ‰å‹å¥½æç¤º',
    'âœ… æ”¯ä»˜å¤±è´¥æœ‰é‡è¯•æœºåˆ¶',
    'âœ… æ•°æ®åŠ è½½å¤±è´¥æœ‰æç¤º',
    'âœ… æƒé™ä¸è¶³æœ‰è¯´æ˜'
  ],
  
  // åˆè§„æ€§æ£€æŸ¥
  compliance: [
    'âœ… ç”¨æˆ·åè®®å’Œéšç§æ”¿ç­–å®Œæ•´',
    'âœ… ç§¯åˆ†è§„åˆ™è¯´æ˜æ¸…æ™°',
    'âœ… å®¢æœè”ç³»æ–¹å¼å¯ç”¨',
    'âœ… æ‰€æœ‰æ¥å£ä½¿ç”¨HTTPS',
    'âœ… æ•æ„Ÿä¿¡æ¯å·²åŠ å¯†'
  ],
  
  // ç”¨æˆ·ä½“éªŒ
  userExperience: [
    'âœ… é¡µé¢åŠ è½½é€Ÿåº¦â‰¤3ç§’',
    'âœ… æ“ä½œæµç¨‹â‰¤3æ­¥å®Œæˆ',
    'âœ… ç•Œé¢å‹å¥½ç¾è§‚',
    'âœ… æ–‡æ¡ˆå‡†ç¡®æ— è¯¯'
  ]
}
```

---

## ğŸ“Š æ€§èƒ½ç›‘æ§å’Œä¼˜åŒ–

### ä»£ç åŒ…å¤§å°ç›‘æ§

#### æ„å»ºæ—¶ç›‘æ§
```javascript
// webpackæ’ä»¶ç›‘æ§åŒ…å¤§å°
class PackageSizePlugin {
  apply(compiler) {
    compiler.hooks.done.tap('PackageSizePlugin', (stats) => {
      const { assets } = stats.compilation
      
      let mainPackageSize = 0
      let subPackageSizes = {}
      
      Object.keys(assets).forEach(filename => {
        const size = assets[filename].size()
        
        if (filename.startsWith('pages/') || filename.includes('app.')) {
          mainPackageSize += size
        } else {
          const packageName = filename.split('/')[0]
          subPackageSizes[packageName] = (subPackageSizes[packageName] || 0) + size
        }
      })
      
      // æ£€æŸ¥å¤§å°é™åˆ¶
      const maxMainSize = 2 * 1024 * 1024  // 2MB
      const maxSubSize = 2 * 1024 * 1024   // 2MB
      
      if (mainPackageSize > maxMainSize) {
        console.error(`âŒ ä¸»åŒ…å¤§å°è¶…é™: ${(mainPackageSize / 1024 / 1024).toFixed(2)}MB`)
      }
      
      Object.keys(subPackageSizes).forEach(pkg => {
        if (subPackageSizes[pkg] > maxSubSize) {
          console.error(`âŒ åˆ†åŒ…${pkg}å¤§å°è¶…é™: ${(subPackageSizes[pkg] / 1024 / 1024).toFixed(2)}MB`)
        }
      })
    })
  }
}
```

#### è¿è¡Œæ—¶ç›‘æ§
```typescript
// æ€§èƒ½ç›‘æ§å·¥å…·
const PerformanceMonitor = {
  // å¯åŠ¨æ—¶é—´ç›‘æ§
  trackLaunchTime() {
    const launchTime = Date.now()
    wx.onAppShow(() => {
      const loadTime = Date.now() - launchTime
      console.log(`Appå¯åŠ¨æ—¶é—´: ${loadTime}ms`)
      
      // ä¸ŠæŠ¥æ€§èƒ½æ•°æ®
      if (loadTime > 3000) {
        this.reportSlowLaunch(loadTime)
      }
    })
  },
  
  // é¡µé¢åŠ è½½ç›‘æ§
  trackPageLoad(pageName: string) {
    const startTime = Date.now()
    return () => {
      const loadTime = Date.now() - startTime
      console.log(`${pageName}åŠ è½½æ—¶é—´: ${loadTime}ms`)
      
      if (loadTime > 2000) {
        this.reportSlowPage(pageName, loadTime)
      }
    }
  },
  
  // å†…å­˜ä½¿ç”¨ç›‘æ§
  trackMemoryUsage() {
    const performance = wx.getPerformance()
    performance.createObserver((entryList) => {
      entryList.getEntries().forEach(entry => {
        if (entry.entryType === 'memory') {
          console.log('å†…å­˜ä½¿ç”¨:', entry)
        }
      })
    }).observe({ entryTypes: ['memory'] })
  }
}
```

### å®¡æ ¸é€šè¿‡ç‡è·Ÿè¸ª

#### å®¡æ ¸ç»“æœåˆ†æ
```typescript
const AuditAnalytics = {
  // å®¡æ ¸å†å²è®°å½•
  auditHistory: [
    {
      version: '1.0.0',
      submitDate: '2024-12-01',
      result: 'approved',
      reviewTime: '2å¤©',
      feedback: null
    },
    {
      version: '1.0.1', 
      submitDate: '2024-12-15',
      result: 'rejected',
      reviewTime: '1å¤©',
      feedback: 'ç§¯åˆ†è§„åˆ™è¯´æ˜ä¸å¤Ÿæ¸…æ™°'
    }
  ],
  
  // é€šè¿‡ç‡è®¡ç®—
  getApprovalRate() {
    const total = this.auditHistory.length
    const approved = this.auditHistory.filter(h => h.result === 'approved').length
    return (approved / total * 100).toFixed(1) + '%'
  },
  
  // å¸¸è§æ‹’ç»åŸå› 
  commonRejectionReasons: [
    'åŠŸèƒ½æè¿°ä¸æ¸…æ™°',
    'ç¼ºå°‘ç”¨æˆ·åè®®',
    'ç§¯åˆ†è§„åˆ™ä¸æ˜ç¡®',
    'å®¢æœè”ç³»æ–¹å¼æ— æ•ˆ',
    'æ”¯ä»˜æµç¨‹å­˜åœ¨é—®é¢˜'
  ]
}
```

---

## ğŸ¯ å®æ–½è®¡åˆ’

### é˜¶æ®µ1ï¼šåŸºç¡€ä¼˜åŒ–ï¼ˆWeek 1-2ï¼‰
- [ ] å®æ–½åˆ†åŒ…æ¶æ„
- [ ] ä»£ç å‹ç¼©å’Œä¼˜åŒ–
- [ ] èµ„æºæ–‡ä»¶ä¼˜åŒ–
- [ ] æ€§èƒ½ç›‘æ§æ­å»º

### é˜¶æ®µ2ï¼šåˆè§„æ€§å®Œå–„ï¼ˆWeek 3-4ï¼‰
- [ ] å®Œå–„ç”¨æˆ·åè®®å’Œéšç§æ”¿ç­–
- [ ] æ·»åŠ å¸®åŠ©æ–‡æ¡£å’Œè¯´æ˜é¡µé¢
- [ ] å®Œå–„å®¢æœå’Œåé¦ˆæœºåˆ¶
- [ ] é”™è¯¯å¤„ç†ä¼˜åŒ–

### é˜¶æ®µ3ï¼šå®¡æ ¸å‡†å¤‡ï¼ˆWeek 5ï¼‰
- [ ] å®¡æ ¸å‰è‡ªæ£€
- [ ] åŠŸèƒ½å®Œæ•´æ€§æµ‹è¯•
- [ ] åˆè§„æ€§æ£€æŸ¥
- [ ] æäº¤å®¡æ ¸å‡†å¤‡

### é¢„æœŸæ•ˆæœ
- **ä»£ç åŒ…å¤§å°**ï¼šä¸»åŒ…â‰¤1.5MBï¼Œåˆ†åŒ…å„â‰¤1.8MB
- **å®¡æ ¸é€šè¿‡ç‡**ï¼šâ‰¥95%ä¸€æ¬¡æ€§é€šè¿‡
- **æ€§èƒ½æŒ‡æ ‡**ï¼šå¯åŠ¨æ—¶é—´â‰¤3ç§’ï¼Œé¡µé¢åŠ è½½â‰¤2ç§’
- **ç”¨æˆ·ä½“éªŒ**ï¼šæµç•…æ— éšœç¢ä½¿ç”¨

---

**æ–‡æ¡£çŠ¶æ€**ï¼šå¾…æŠ€æœ¯è¯„å®¡  
**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**ï¼šæŠ€æœ¯æ–¹æ¡ˆå®æ–½  
**è´£ä»»äºº**ï¼šæŠ€æœ¯è´Ÿè´£äºº  
**è¯„å®¡æ—¶é—´**ï¼šå¾…å®š
